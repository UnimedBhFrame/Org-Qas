public class TestarCodigos {
    
    public static void testarCod1() {
        
        List<Tipo> tipos = new List<Tipo>();
        
        tipos.add(new Tipo(Location.newInstance(-19.5590472,-44.0863746), '2022-04-15T03:56:22.000+0000'.substring(0,10)));
        tipos.add(new Tipo(Location.newInstance(-19.5463896,-44.0837001), '2022-04-15T07:42:41.000+0000'.substring(0,10)));
        tipos.add(new Tipo(Location.newInstance(-19.5542525,-44.094397), '2022-04-15T07:48:13.000+0000'.substring(0,10)));
        tipos.add(new Tipo(Location.newInstance(-19.5475136,-44.1154867), '2022-04-15T07:53:14.000+0000'.substring(0,10)));
        tipos.add(new Tipo(Location.newInstance(-19.5440951,-44.1324111), '2022-04-15T07:58:34.000+0000'.substring(0,10)));
        tipos.add(new Tipo(Location.newInstance(-19.5440951,-44.1324111), '2022-04-15T08:03:34.000+0000'.substring(0,10)));
        tipos.add(new Tipo(Location.newInstance(-19.5440951,-44.1324111), '2022-04-15T08:08:35.000+0000'.substring(0,10)));
        tipos.add(new Tipo(Location.newInstance(-19.5440951,-44.1324111), '2022-04-15T08:13:37.000+0000'.substring(0,10)));
        tipos.add(new Tipo(Location.newInstance(-19.5440951,-44.1324111), '2022-04-15T08:19:02.000+0000'.substring(0,10)));
        tipos.add(new Tipo(Location.newInstance(-19.5440951,-44.1324111), '2022-04-15T08:24:03.000+0000'.substring(0,10)));
        tipos.add(new Tipo(Location.newInstance(-19.5440951,-44.1324111), '2022-04-15T08:29:04.000+0000'.substring(0,10)));
        tipos.add(new Tipo(Location.newInstance(-19.5440951,-44.1324111), '2022-04-15T08:34:08.000+0000'.substring(0,10)));
        tipos.add(new Tipo(Location.newInstance(-19.5440951,-44.1324111), '2022-04-15T08:39:08.000+0000'.substring(0,10)));
        tipos.add(new Tipo(Location.newInstance(-19.5440951,-44.1324111), '2022-04-15T08:44:10.000+0000'.substring(0,10)));
        tipos.add(new Tipo(Location.newInstance(-19.5440951,-44.1324111), '2022-04-15T08:49:20.000+0000'.substring(0,10)));
        tipos.add(new Tipo(Location.newInstance(-19.5452864,-44.1333017), '2022-04-15T08:54:15.000+0000'.substring(0,10)));
        tipos.add(new Tipo(Location.newInstance(-19.5440951,-44.1324111), '2022-04-15T08:59:16.000+0000'.substring(0,10)));
        tipos.add(new Tipo(Location.newInstance(-19.5396572,-44.1339199), '2022-04-15T09:56:20.000+0000'.substring(0,10)));
        tipos.add(new Tipo(Location.newInstance(-19.5440951,-44.1324111), '2022-04-15T10:13:07.000+0000'.substring(0,10)));
        tipos.add(new Tipo(Location.newInstance(-19.5440951,-44.1324111), '2022-04-15T10:18:08.000+0000'.substring(0,10)));
        tipos.add(new Tipo(Location.newInstance(-19.5440951,-44.1324111), '2022-04-15T10:23:10.000+0000'.substring(0,10)));
        tipos.add(new Tipo(Location.newInstance(-19.5440951,-44.1324111), '2022-04-15T10:28:15.000+0000'.substring(0,10)));
        tipos.add(new Tipo(Location.newInstance(-19.5448121,-44.1338954), '2022-04-15T10:33:13.000+0000'.substring(0,10)));
        tipos.add(new Tipo(Location.newInstance(-19.5440951,-44.1324111), '2022-04-15T10:38:38.000+0000'.substring(0,10)));
        tipos.add(new Tipo(Location.newInstance(-19.5440951,-44.1324111), '2022-04-15T10:43:39.000+0000'.substring(0,10)));
        tipos.add(new Tipo(Location.newInstance(-19.5440951,-44.1324111), '2022-04-15T10:49:03.000+0000'.substring(0,10)));
        tipos.add(new Tipo(Location.newInstance(-19.5452864,-44.1333017), '2022-04-15T10:54:04.000+0000'.substring(0,10)));
        tipos.add(new Tipo(Location.newInstance(-19.5395425,-44.1042004), '2022-04-15T10:59:05.000+0000'.substring(0,10)));
        tipos.add(new Tipo(Location.newInstance(-19.5590472,-44.0863746), '2022-04-15T11:04:04.000+0000'.substring(0,10)));
        tipos.add(new Tipo(Location.newInstance(-19.5549752,-44.083403), '2022-04-15T11:09:14.000+0000'.substring(0,10)));
        tipos.add(new Tipo(Location.newInstance(-19.5463896,-44.0837001), '2022-04-15T11:14:15.000+0000'.substring(0,10)));
        tipos.add(new Tipo(Location.newInstance(-19.5448135,-44.0831058), '2022-04-15T11:19:16.000+0000'.substring(0,10)));
        tipos.add(new Tipo(Location.newInstance(-19.5478335,-44.0828086), '2022-04-15T11:24:16.000+0000'.substring(0,10)));
        tipos.add(new Tipo(Location.newInstance(-19.5478335,-44.0828086), '2022-04-15T11:29:32.000+0000'.substring(0,10)));
        tipos.add(new Tipo(Location.newInstance(-19.5478335,-44.0828086), '2022-04-15T11:34:32.000+0000'.substring(0,10)));
        tipos.add(new Tipo(Location.newInstance(-19.5463896,-44.0837001), '2022-04-15T11:39:34.000+0000'.substring(0,10)));
        tipos.add(new Tipo(Location.newInstance(-19.5478335,-44.0828086), '2022-04-15T11:44:37.000+0000'.substring(0,10)));
        tipos.add(new Tipo(Location.newInstance(-19.5478335,-44.0828086), '2022-04-15T11:49:39.000+0000'.substring(0,10)));
        tipos.add(new Tipo(Location.newInstance(-19.5478335,-44.0828086), '2022-04-15T11:55:17.000+0000'.substring(0,10)));
        tipos.add(new Tipo(Location.newInstance(-19.5448135,-44.0831058), '2022-04-15T12:43:41.000+0000'.substring(0,10)));
        tipos.add(new Tipo(Location.newInstance(-19.5448135,-44.0831058), '2022-04-15T14:43:14.000+0000'.substring(0,10)));
        tipos.add(new Tipo(Location.newInstance(-19.5442981,-44.0806997), '2022-04-16T00:31:29.000+0000'.substring(0,10)));
        
        Decimal dist = 0;
        List<Decimal> dists = new List<Decimal>();
        
        for (Integer i = 0; i < tipos.size() - 1; i++) {
            
            Location loc1 = tipos[i].loc;
            Location loc2 = tipos[i + 1].loc;
            String chave1 = tipos[i].chave;
            String chave2 = tipos[i + 1].chave;
            /*if (chave1 != chave2) {
System.debug(chave1);
System.debug(dist);
dists.add(dist);
dist = 0;
}
else {*/
            dist += Location.getDistance(loc1, loc2, 'km');
            /*}
if (i == tipos.size() - 2) {
System.debug(chave1);
System.debug(dist);
dists.add(dist);
}*/
        }
        
        Decimal total = 0;
        for (Decimal d : dists) {
            total += d;
        }
        System.debug('total: ' + dist);
        
    }
    
    public class Tipo {
        
        public Location loc {get;set;}
        public String chave {get;set;}
        
        public Tipo(Location loc, String chave) {
            
            this.loc = loc;
            this.chave = chave;
        }
    }
}